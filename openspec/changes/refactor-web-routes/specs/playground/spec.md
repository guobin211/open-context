## 修改需求

### 需求：Playground 路由模块

Playground 必须提供独立的开发和测试路由模块（`/playground`），采用左右分栏布局，用于展示和测试各种编辑器、查看器和工具组件。

**定位说明**：

- Playground 是开发调试专用页面，不属于主应用功能
- 主要用途：组件原型展示、功能调试、未来功能集成预览
- 生产环境可选择是否暴露此路由

**技术特性**：

- 所有子页面必须使用 React.lazy 懒加载以减少初始包体积
- 必须使用 Suspense 提供加载状态和错误边界处理
- 必须支持组件开发、测试和演示的完整流程

#### 场景：显示左右分栏布局

- **当** 用户访问任意 `/playground/*` 路径
- **那么** 系统显示左右分栏布局
- **并且** 左侧为固定宽度 240px 的导航栏
- **并且** 右侧为 flex-1 自适应宽度的内容区

#### 场景：导航栏 Y 轴滚动

- **当** 导航列表项超过视口高度
- **那么** 导航栏必须支持 Y 轴滚动
- **并且** 滚动条样式与应用主题一致

#### 场景：内容区 Y 轴滚动

- **当** 内容区内容超过视口高度
- **那么** 内容区必须支持 Y 轴滚动
- **并且** 标题栏和工具栏固定不滚动

#### 场景：访问入口页面

- **当** 用户访问 `/playground` 根路径
- **那么** 左侧导航栏必须显示 16 个子页面链接
- **并且** 每个链接显示图标、标题和简短描述
- **并且** 右侧内容区显示欢迎信息或使用说明

#### 场景：懒加载子页面

- **当** 用户点击任意子页面链接
- **那么** 系统必须延迟加载对应组件（React.lazy）
- **并且** 在加载期间显示加载状态（Spinner 动画或进度条）
- **并且** 组件加载完成后立即渲染，不阻塞主线程

#### 场景：错误边界处理

- **当** 子页面组件加载失败
- **那么** 系统必须显示友好的错误提示（包含错误信息和重试按钮）
- **并且** 提供返回首页按钮（链接到 `/playground`）
- **并且** 错误信息记录到控制台和日志系统（生产环境）

#### 场景：初始包体积限制

- **当** 用户首次访问 `/playground` 根路径
- **那么** 首屏加载的 JavaScript 体积必须 < 100 KB
- **并且** 仅包含导航栏组件和必要的基础代码
- **并且** 其他子页面组件仅在点击时按需加载

## 新增需求

### 需求：顶层路由规范

系统必须定义五个顶层路由，每个路由具有明确的功能定位和职责。

#### 场景：launcher 路由 - 主窗口

- **当** 应用启动或用户访问 `/launcher` 路径
- **那么** 系统必须显示启动器主窗口
- **并且** 提供快速访问各个功能的入口
- **并且** 支持搜索、最近项目和快捷操作

#### 场景：browser 路由 - 浏览器模式

- **当** 用户访问 `/browser` 路由
- **那么** 系统必须进入浏览器模式
- **并且** 提供类似浏览器的文件浏览和预览功能
- **并且** 支持多标签页管理和历史导航

#### 场景：terminal 路由 - 终端模式

- **当** 用户访问 `/terminal` 路由
- **那么** 系统必须进入终端模式
- **并且** 提供基于 xterm.js 的终端模拟器
- **并且** 支持命令执行、历史记录和多终端会话

#### 场景：settings 路由 - 设置页面

- **当** 用户访问 `/settings` 路由
- **那么** 系统必须显示设置页面
- **并且** 提供分类设置选项（通用、外观、快捷键、AI 提供商、存储、云同步、服务器等）
- **并且** 支持即时预览和保存设置

#### 场景：workspace 路由 - 工作区页面

- **当** 用户访问 `/workspace` 路由
- **那么** 系统必须显示类似 VS Code 的工作区页面
- **并且** 提供文件浏览器、编辑器、侧边栏、状态栏等完整开发环境
- **并且** 支持多文件编辑、终端集成、Git 操作等功能

### 需求：路由切换机制

系统必须提供统一的路由切换机制，支持在各顶层路由间无缝切换。

#### 场景：从 launcher 跳转到 workspace

- **当** 用户在 launcher 点击工作区项目
- **那么** 系统必须跳到 `/workspace` 路由
- **并且** 上下文信息（如工作区路径）正确传递

#### 场景：从 workspace 返回 launcher

- **当** 用户在 workspace 点击返回启动器按钮
- **那么** 系统必须跳到 `/launcher` 路由
- **并且** 保留当前工作区状态以便快速恢复

#### 场景：通过快捷键切换路由

- **当** 用户按下定义的快捷键组合（如 Ctrl+Shift+T 切换到终端）
- **那么** 系统必须跳到对应路由
- **并且** 保持当前路由的状态

### 需求：路由状态保持

系统必须在路由切换时保持必要的应用状态。

#### 场景：保持全局应用状态

- **当** 用户在路由间切换
- **那么** 全局应用状态（如主题、语言、用户设置）必须保持不变
- **并且** 状态变更在所有路由间同步立即生效

#### 场景：路由特定状态隔离

- **当** 用户在 workspace 和 browser 路由间切换
- **那么** 每个路由的特定状态（如当前打开的文件、标签页）必须独立保持
- **并且** 切换回路由时恢复之前的状态
